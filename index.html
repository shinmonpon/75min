<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Biglietto 75 Minuti</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

<div class="fixed-header">
    <button class="back-button" id="backButton" aria-label="Indietro">
        <i class="fas fa-chevron-left"></i>
    </button>
    <span class="header-title">Ticket attivo</span>
</div>

<div class="ptr-indicator" id="ptrIndicator">
    <div id="ptrGearContainer" class="ptr-gear-img-container">
        <svg id="ptrGearSvg" width="100%" height="100%" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
            <title>Loading Gear</title>
            <style>
                .ptr-spoke {
                    fill: #FFFFFF; 
                    opacity: 0.2; 
                    transition: opacity 0.25s ease-in-out; /* For gradual spoke lighting */
                }
                .ptr-spoke.visible {
                    opacity: 1;  
                }
            </style>
            <g id="ptr-spokes-group" transform="translate(30 30)">
                <rect class="ptr-spoke" id="ptr-spoke-0" x="-3" y="-26" width="6" height="18" rx="3" ry="3" />
                <rect class="ptr-spoke" id="ptr-spoke-1" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(45)"/>
                <rect class="ptr-spoke" id="ptr-spoke-2" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(90)"/>
                <rect class="ptr-spoke" id="ptr-spoke-3" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(135)"/>
                <rect class="ptr-spoke" id="ptr-spoke-4" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(180)"/>
                <rect class="ptr-spoke" id="ptr-spoke-5" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(225)"/>
                <rect class="ptr-spoke" id="ptr-spoke-6" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(270)"/>
                <rect class="ptr-spoke" id="ptr-spoke-7" x="-3" y="-26" width="6" height="18" rx="3" ry="3" transform="rotate(315)"/>
            </g>
        </svg>
    </div>
</div>

<div class="scroll-view" id="mainScrollView">
    <div class="card" id="mainCard">

        <img src="asf-logo.png" alt="ASF Logo" class="asf-logo" id="activateTicketLogo">

        <div class="main-title-block">
            <span class="main-title">RETE URBANA 75′</span>
            <span class="sub-title">Titolo di viaggio integrato valido su tutte le linee con percorrenza urbana per 75′</span>
        </div>

        <section class="validation-loop-wrapper">
            <div class="clickable-header" id="validationHeaderButton" role="button" aria-expanded="true" aria-controls="validationContentArea">
                <div class="icon-text-container">
                    <img src="validazione.png" alt="Icona Validazione" class="icon icon-validation">
                    <span>Controllo e validazione</span>
                </div>
                <img src="arrow-down.png" alt="Comprimi" class="chevron-img open-chevron" id="validationChevron">
            </div>
            <div id="validationContentArea" class="collapsible-content open-content">
                <img src="qr-code.png" class="qr-code-small" alt="QR Code" id="smallQrImage">
                <button type="button" class="text-button-link underline" id="enlargeQrButton">Ingrandisci QRCode</button>
                <div class="time-code-row">
                    <div class="icon-text">
                        <img src="clock.png" alt="Icona Orologio" class="icon icon-clock">
                        <span id="liveClock">--:--:--</span>
                    </div>
                    <div class="icon-text">
                        <img src="lock.png" alt="Icona Lucchetto" class="icon icon-lock">
                        <span>862</span> 
                    </div>
                </div>
            </div>

            <div class="loop-image-container">
                <div class="loop-scrolling-image">
                    <img src="image.png" alt="Animated Zigzag Pattern 1">
                    <img src="image.png" alt="Animated Zigzag Pattern 2">
                </div>
            </div>
        </section>

        <div class="status-banner" id="ticketStatusBanner">
            <div id="tempoRestante">Tempo restante: --</div>
            <div id="attivatoIl">Attivato il: --</div>
        </div>

        <div class="detail-item emesso-il">
            <span class="label">Emesso il:</span>
            <span class="value" id="emessoIlValue">--</span>
        </div>
        <div class="detail-item row-layout">
            <span class="label costo-label">Costo</span>
            <span class="price-value">1,50 €</span>
        </div>

        <div class="detail-item row-layout details-toggle-section">
            <span class="label">Dettagli</span>
            <button type="button" class="link-value" id="leggiTuttoLink" aria-expanded="false" aria-controls="dettagliContent">
                <span id="leggiTuttoText">Leggi tutto</span>
                <img src="arrow-down.png" alt="Espandi Dettagli" class="chevron-img" id="leggiTuttoChevron">
            </button>
        </div>
        <div id="dettagliContent" class="collapsible-content">
            <p>La validità inizia dal momento della convalida e il titolo sarà valido per 75 minuti. 
                Il biglietto potrà essere utilizzato per viaggiare su tutte le linee con percorrenza urbana a Como, 
                salvo fatte le corse effettuate da BUS che espongono la lettera U barrata. ASF Autolinee Srl</p>
            <p>·P.IVA 02660190139</p>
        </div>

        <div class="detail-item row-layout">
            <span class="label light">Codice Ticket:</span>
            <span class="value light-value">7325/1036051</span> 
        </div>
    </div> 
</div> 

<div id="qrModal" class="modal-overlay">
    <div class="modal-content">
        <span class="close-modal-btn" id="closeQrBtn" role="button" aria-label="Chiudi modale">×</span>
        <img src="" alt="QR Code Ingrandito" id="enlargedQrImage" class="qr-modal-image">
    </div>
</div>

</body>
<script src="script.js"></script>
</html>